import{r,j as s,L as v}from"./index-VjBi3Mlf.js";import{a as c,U as h}from"./UploadSheet-BgItYv5B.js";function f(t=""){return t.replace(/\s*[ÃƒÆ’Ã†"Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Â "ÃƒÆ’Ã†"ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã†"Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã†"Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡Ãƒâ€šÃ‚Â¬ÃƒÆ’Ã¢â‚¬Â¦Ãƒâ€šÃ‚Â¡ÃƒÆ’Ã†"ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¬ÃƒÆ’Ã†"Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã†"Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã‚Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¬ÃƒÆ’Ã†"ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â-]\s*(Starter|Elite|Pro).*/i,"").replace(/\s*\((Starter|Elite|Pro)\).*/i,"").replace(/\b(Starter|Elite|Pro)\b/ig,"").replace(/\s{2,}/g," ").trim()}function j(t=""){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function S(){const[t,p]=r.useState(""),[l,m]=r.useState("All"),[o,n]=r.useState({open:!1,svc:null}),d=Array.isArray(c)?c:c.services||[],i=r.useMemo(()=>d.map((e,a)=>({...e,_id:e.id??a,display:f(e.name??e.title??e.service??""),category:e.category??e.cat??"Other",desc:e.desc??e.description??""})),[d]),x=r.useMemo(()=>["All",...Array.from(new Set(i.map(e=>e.category))).sort()],[i]),u=r.useMemo(()=>{const e=t.trim().toLowerCase();return i.filter(a=>l==="All"||a.category===l).filter(a=>!e||a.display.toLowerCase().includes(e)||Array.isArray(a.tags)&&a.tags.join(" ").toLowerCase().includes(e)).sort((a,g)=>a.display.localeCompare(g.display))},[i,t,l]);return s.jsxs("div",{className:"dna-section",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Services"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"border rounded px-3 py-2 w-72",placeholder:"Search services",value:t,onChange:e=>p(e.target.value)}),s.jsx("select",{className:"border rounded px-2 py-2",value:l,onChange:e=>m(e.target.value),children:x.map(e=>s.jsx("option",{value:e,children:e},e))})]})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:u.map(e=>s.jsxs("div",{className:"card p-4 flex flex-col gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:e.category}),s.jsx("div",{className:"font-semibold leading-snug",children:e.display})]}),e.desc&&s.jsx("p",{className:"text-sm text-slate-600",children:e.desc}),s.jsxs("div",{className:"flex gap-2 mt-auto",children:[s.jsx("button",{className:"border px-2 py-1 rounded text-sm",onClick:()=>n({open:!0,svc:e}),title:"Upload docs for intake",children:"Upload"}),s.jsx(v,{to:`/service/${e.id??j(e.display)}`,className:"border px-2 py-1 rounded text-sm",title:"Open details",children:"Details"})]})]},e._id))}),s.jsx(h,{open:o.open,service:o.svc,onClose:()=>n({open:!1,svc:null})})]})}export{S as default};
